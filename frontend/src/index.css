@import "tailwindcss";

@theme {
  /* Primary Colors */
  --color-primary: #4F46E5;
  --color-primary-light: #EEF2FF;
  --color-secondary: #64748B;

  /* Surface & Background */
  --color-surface: #FFFFFF;
  --color-background: #F8FAFC;
  --color-bg-cream: #F5F4F1;
  --color-bg-muted: #EDECEA;
  --color-bg-surface: #FFFFFF;

  /* Text */
  --color-text-primary: #1A1918;
  --color-text-secondary: #6D6C6A;
  --color-text-tertiary: #9C9B99;

  /* Border */
  --color-border-subtle: #E5E4E1;

  /* Feedback */
  --color-correct: #10B981;
  --color-correct-light: #D1FAE5;
  --color-wrong: #EF4444;
  --color-wrong-light: #FEE2E2;
  --color-warning: #F59E0B;
  --color-info: #3B82F6;

  /* Accent */
  --color-accent-indigo: #4F46E5;
  --color-accent-indigo-light: #EEF2FF;

  /* Teacher Dashboard */
  --color-teal: #2D9CAE;
  --color-teal-light: #EBF8FA;
  --color-teal-dark: #247F8E;

  /* Level Colors */
  --color-level-1: #86EFAC;
  --color-level-2: #22C55E;
  --color-level-3: #38BDF8;
  --color-level-4: #A78BFA;
  --color-level-5: #FBBF24;

  /* Font Families */
  --font-sans: 'Pretendard Variable', 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-display: 'Outfit', sans-serif;
  --font-word: 'Inter', sans-serif;
  --font-mono: 'Roboto Mono', monospace;

  /* Border Radius */
  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-2xl: 20px;
}

/* ── Mobile touch/interaction optimizations ── */

/* 탭 하이라이트 제거 */
* {
  -webkit-tap-highlight-color: transparent;
}

/* 버튼/링크: 더블탭 줌 방지, 텍스트 선택 방지 */
button, a, [role="button"] {
  touch-action: manipulation;
  -webkit-user-select: none;
  user-select: none;
}

/* Input: 더블탭 줌 방지 (텍스트 선택은 허용) */
input, textarea, select {
  touch-action: manipulation;
}

/* Sticky hover 방지: 터치 디바이스에서 hover 효과 비활성화 */
@media (hover: none) and (pointer: coarse) {
  .hover\:bg-bg-muted:hover,
  .hover\:text-wrong:hover,
  .hover\:bg-wrong-light:hover {
    background: inherit;
    color: inherit;
  }
}

/* 스크롤 최적화 */
.overflow-y-auto,
.overflow-x-auto {
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

/* ── Print styles ── */
@page {
  size: A4;
  margin: 8mm;
}

@media print {
  /* Hide sidebar, nav, and non-printable UI */
  aside,
  .print-hidden {
    display: none !important;
  }

  /* Main content fills full width */
  main {
    margin: 0 !important;
    padding: 0 !important;
    width: 100% !important;
    overflow: visible !important;
  }

  main > div {
    padding: 0 !important;
  }

  /* Remove flex min-width constraint on root layout */
  body,
  #root,
  #root > div,
  #root > div > div {
    min-width: 0 !important;
    width: 100% !important;
  }

  /* Page break utility */
  .print-page-break {
    page-break-before: always;
    break-before: page;
  }

  /* Report container: no border/shadow in print, shrink to fit A4 */
  .print-report {
    max-width: 100% !important;
    padding: 0 !important;
    margin: 0 !important;
  }

  /* Remove spacing between print pages */
  .print-report > * {
    margin-top: 0 !important;
    margin-bottom: 0 !important;
  }

  /* Each print page: shrink to fit one A4 page */
  .print-page {
    border: none !important;
    box-shadow: none !important;
    border-radius: 0 !important;
    padding: 4mm !important;
    margin: 0 !important;
    zoom: 0.62;
  }

  /* Show all pages during print (override screen-only hidden) */
  .print-show {
    display: block !important;
  }

  /* Report card: remove border/rounding, allow content to flow across pages */
  .print-report-card {
    border: none !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    padding: 0 !important;
    overflow: visible !important;
  }

  /* Page break before a section */
  .print-break-before {
    break-before: page;
    page-break-before: always;
  }

  /* Prevent breaking inside table rows and key content blocks */
  tr {
    break-inside: avoid;
    page-break-inside: avoid;
  }

  /* Tables: repeat thead on every page */
  thead {
    display: table-header-group;
  }

  /* Allow tables to overflow naturally across pages */
  table {
    break-inside: auto;
    page-break-inside: auto;
  }

  /* Remove background colors that waste ink (keep borders for readability) */
  .bg-\[\#F8F8F6\],
  .bg-\[\#FAFAFA\],
  .min-h-screen {
    background: white !important;
    min-height: auto !important;
  }

  /* Remove animations in print */
  * {
    animation: none !important;
    transition: none !important;
  }
}
