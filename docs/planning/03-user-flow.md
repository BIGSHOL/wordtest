# User Flow (사용자 흐름도)

> Mermaid 플로우차트로 핵심 기능의 주요 여정을 표현합니다.
> 성공/실패 분기를 포함하고, 온보딩→핵심작업→리텐션 루프를 표현합니다.

---

## MVP 캡슐

| # | 항목 | 내용 |
|---|------|------|
| 1 | 목표 | 학생들의 영어 단어 실력을 빠르고 정확하게 테스트하여 레벨별로 분류 |
| 2 | 페르소나 | 학원 선생님(관리자) + 학생(테스트/학습자) |
| 3 | 핵심 기능 | FEAT-1: 단어 레벨 테스트 |
| 4 | 성공 지표 (노스스타) | 주 1회 이상 테스트 참여 학생 비율 |
| 5 | 입력 지표 | ① 신규 학생 테스트 완료율 ② 정기 테스트 참여율 |
| 6 | 비기능 요구 | 모바일+PC 반응형 웹 지원 |
| 7 | Out-of-scope | FEAT-2(리포트/통계), FEAT-3(학습 모드), 다크 모드, 수익화 |
| 8 | Top 리스크 | 학생들이 테스트에 흥미를 잃어 참여율이 낮아질 수 있음 |
| 9 | 완화/실험 | 친근한 톤의 피드백 + TTS로 발음 학습 요소 추가 |
| 10 | 다음 단계 | wordtest.xlsx 데이터 분석 및 레벨 체계 설계 |

---

## 1. 전체 사용자 여정 (Overview)

```mermaid
graph TD
    A[앱 진입] --> B{로그인 상태?}
    B -->|No| C[FEAT-0: 로그인]
    B -->|Yes| D{역할 확인}
    C --> D

    D -->|선생님| E[선생님 대시보드]
    D -->|학생| F[학생 메인 화면]

    E --> G[학생 관리]
    E --> H[테스트 결과 확인]
    E --> I[테스트 배정]

    F --> J[FEAT-1: 단어 레벨 테스트]
    J --> K[테스트 결과 확인]
    K --> L[다음 테스트 유도 - 리텐션 루프]
    L --> F
```

---

## 2. FEAT-0: 온보딩/로그인 플로우

### 2.1 선생님 플로우

```mermaid
graph TD
    A[시작 화면] --> B{계정 있음?}

    %% 신규 선생님
    B -->|No| C[선생님 회원가입]
    C --> D[이메일 입력]
    D --> E[비밀번호 설정]
    E --> F[학원명/이름 입력]
    F --> G[가입 완료]
    G --> H[선생님 대시보드]

    %% 기존 선생님
    B -->|Yes| I[로그인]
    I --> J{성공?}
    J -->|Yes| H
    J -->|No| K[에러 표시: 이메일 또는 비밀번호 확인]
    K --> I
```

### 2.2 학생 플로우

```mermaid
graph TD
    A[시작 화면] --> B[학생 로그인]
    B --> C[선생님이 알려준 ID/PW 입력]
    C --> D{성공?}
    D -->|Yes| E[학생 메인 화면]
    D -->|No| F[에러 표시: 선생님에게 문의하세요]
    F --> B
```

---

## 3. FEAT-1: 단어 레벨 테스트 플로우

### 3.1 학생 - 테스트 응시

```mermaid
graph TD
    A[학생 메인 화면] --> B[테스트 시작 버튼]
    B --> C[테스트 안내 화면]
    C --> D[문제 표시: 영어 단어 + 선택지 4개]

    D --> E{TTS 듣기?}
    E -->|Yes| F[단어 발음 재생]
    F --> G[답변 선택]
    E -->|No| G

    G --> H{다음 문제 있음?}
    H -->|Yes| D
    H -->|No| I[테스트 완료 처리]

    I --> J[결과 화면]
    J --> K[레벨 표시 + 점수]
    K --> L[응원 메시지: 잘했어요!]
    L --> M{다시 풀기?}
    M -->|Yes| B
    M -->|No| N[학생 메인 화면으로]
```

### 3.2 선생님 - 테스트 결과 확인

```mermaid
graph TD
    A[선생님 대시보드] --> B[학생 목록 화면]
    B --> C[학생 선택]
    C --> D[학생별 테스트 결과 조회]
    D --> E[레벨 + 점수 + 테스트 일시 확인]
    E --> F{다른 학생 확인?}
    F -->|Yes| B
    F -->|No| A
```

### 3.3 선생님 - 학생 계정 관리

```mermaid
graph TD
    A[선생님 대시보드] --> B[학생 관리 메뉴]
    B --> C{작업 선택}

    C -->|추가| D[학생 이름 + ID 입력]
    D --> E[초기 비밀번호 설정]
    E --> F[학생 계정 생성 완료]

    C -->|수정| G[학생 정보 수정]
    G --> H[저장]

    C -->|삭제| I[삭제 확인 다이얼로그]
    I --> J{확인?}
    J -->|Yes| K[학생 삭제 완료]
    J -->|No| B

    F --> B
    H --> B
    K --> B
```

---

## 4. 리텐션 루프 (습관 형성)

```mermaid
graph TD
    A[테스트 완료] --> B[즉각 피드백: 레벨 + 응원 메시지]
    B --> C[결과 저장]
    C --> D[다음 목표 제시: 다음 레벨까지 N개 더!]

    %% 재방문 루프
    E[선생님이 정기 테스트 안내] --> F[학생 앱 접속]
    F --> A

    %% 자연 재방문
    D --> G{다시 도전?}
    G -->|Yes| A
    G -->|No| H[메인 화면으로]
```

---

## 5. 에러 처리 플로우

```mermaid
graph TD
    A[에러 발생] --> B{에러 유형?}

    B -->|네트워크| C[인터넷 연결을 확인해주세요]
    B -->|입력 오류| D[필드별 에러 표시]
    B -->|인증 만료| E[다시 로그인해주세요]
    B -->|서버 오류| F[잠시 후 다시 시도해주세요]

    C --> G{재시도?}
    G -->|Yes| H[재시도 실행]
    G -->|No| I[메인 화면으로]

    D --> J[사용자 수정 후 재제출]

    E --> K[로그인 화면으로 이동]

    F --> L[메인 화면으로]
```

---

## 6. 화면 목록 (Screen Inventory)

| 화면 ID | 화면명 | FEAT | 진입점 | 주요 액션 |
|---------|--------|------|--------|----------|
| S-01 | 시작/로그인 화면 | FEAT-0 | 앱 실행 | 로그인 (선생님/학생) |
| S-02 | 선생님 회원가입 | FEAT-0 | S-01 | 계정 생성 |
| S-03 | 선생님 대시보드 | FEAT-0 | S-01 | 학생 관리, 결과 확인 |
| S-04 | 학생 관리 | FEAT-0 | S-03 | 학생 추가/수정/삭제 |
| S-05 | 학생 메인 화면 | - | S-01 | 테스트 시작 |
| S-06 | 테스트 진행 | FEAT-1 | S-05 | 문제 풀기, TTS 듣기 |
| S-07 | 테스트 결과 | FEAT-1 | S-06 | 레벨 확인, 점수 확인 |
| S-08 | 학생별 결과 조회 | FEAT-1 | S-03 | 선생님이 학생 결과 확인 |

---

## Decision Log 참조

| ID | 항목 | 선택 | 영향 |
|----|------|------|------|
| D-03 | 사용자 역할 | 선생님 + 학생 | 화면을 역할별로 분리 |
| D-04 | 사용 환경 | 반응형 웹 | 모든 화면 모바일/PC 대응 |
| D-06 | TTS 연동 | 테스트 화면에 TTS 버튼 | S-06에 TTS 기능 포함 |
| D-07 | UI 톤 | 친근하고 응원 | 결과 화면에 응원 메시지 |
